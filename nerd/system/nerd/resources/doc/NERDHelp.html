<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
       "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>NERD Help</title>
</head>
<body>


<h1><a name="content">Help-Content: </a></h1>

<br><br>
<a href="#Introduction">0 Introduction</a> <br>
<a href="#Control">1 Control</a> <br>
<a href="#MotorControlManager">1.1 Motor Control Manager</a> <br>
<a href="#DiverseControl">1.2 Simulation Control</a> <br>
<a href="#Tools">2 Tools</a> <br>
<a href="#SimulationProperties">2.1 Simulation Properties</a> <br>
<a href="#ObjectProperties">2.2 Object Properties</a> <br>
<a href="#plotter">2.2.1 ValuePlotter</a> <br>
<a href="#logger">2.2.2 Logger</a> <br>
<a href="#View">3 View</a> <br>
<a href="#CameraManager">3.1 Camera Manager</a> <br>
<a href="#Camera">4 Camera and Keycontrol</a> <br>

<h2><a name="Introduction">0 Introduction</a> </h2>
This help briefly presents all tools available for NERD. To additionally support the user, a "What's this?" mechanism is included as well, where some of the tools give short descriptions on their meaning and/or their usage. The NERD tutorial - available at <a href="http://www.cogsci.uni-osnabrueck.de/~neurokybernetik/tools/nerd">http://www.cogsci.uni-osnabrueck.de/~neurokybernetik/tools/nerd</a> - contains further details. 
<br><br>
If used in graphical mode, the graphical user interface (GUI) of NERD comes with a menu to access all available tools. Section 1 describes all program components that are available by the <b>Control</b> menu. This menu is only available, if an NERD simulation was started that has no external control attached to it, which uses the NERD Standard Protocol (NSP, see NERD homepage for a protocol specification). The next section shows the program components available via the <b>Tools</b> menu. Section 3 presents the <b>Camera Manager</b>, a tool to create additional camera views, and in the last section, the camera control and the available keyboard commands to manipulate the visualization are presented.

<br><div align="right"><a href="#content">Back to Content</a> <br></div>

<h2><a name="Control">1 Control</a> </h2>

<h2><a name="MotorControlManager">1.1 Motor Control Manager</a> </h2>
The <b>Motor Control Manager</b> shows a list of all controllable agents in the current simulation and offers the possibility to create a list of motor control sliders for the individual agents. Double clicking on the name of the agent to be controlled a new slider panel for this agent is created. By pushing <b>Create Controls</b> a slider panel is created for all selected agents (if they do not have one yet).
<br>
In the list below the two buttons, the names of all agents that have an active control are shown. Double clicking on these names will hide/show the corresponding slider panel. Pressing <b>Remove Controls</b> removes all slider controls that are currently selected in the lower list completely from the simulation.
<br>
The number keys [0-9] can be used to save sets of motor settings, which offers the possibility to modify several motors simultaneously. Using <b>Ctrl + [0-9]</b> the currently chosen motor settings are saved. Pressing the according number key, these settings are restored and applied to the simulation.

<br><div align="right"><a href="#content">Back to Content</a> <br></div>

<h2><a name="DiverseControl">1.2 Simulation Control</a> </h2>

There are several additional control elements for the simulation (if the control menu is available). The user can use the control menu or the according short cuts:
<ul>
  <li><b>Real Time</b>:	Runs the simulation in real time. If the used machine is capable of a faster
simulation, this will reduce the speed and adapt it to real time. If the machine is to slow to
reach real time, enabling <b>Realtime</b> will result in running the simulation as fast as possible.
</li>
  <li><b>Pause</b>:	Pause/Resume the simulation.</li>
  <li><b>Reset Simulation</b>:	Resets the simulation to the initial conditions. During startup NERD saves all physically necessary information of each object and joint. By calling a reset, the simulation time will be reset to zero, the physic will be deleted and new created using the previously saved information. By using the <a href="ObjectProperties"><b>Object Properties</b></a> tool, the initial information for a particular value can be changed.
</li>
  <li><b>Next Step</b>:	Triggers a single simulation step, if the simulation is currently paused.</li>
</ul>
<br><div align="right"><a href="#content">Back to Content</a> <br></div>

<h2><a name="Tools">2 Tools</a> </h2>

<h2><a name="SimulationProperties">2.1 Simulation Properties</a> </h2>
The <b>Simulation Properties</b> tool allows direct access to all available parameters of the variable repository, such as the settings of the physics engine, the simulation delay and step size, parameters of the graphical user interface or the duration of several simulation phases for performance analysis. The global settings for the motors and sensors and all object parameters are available in this tool as well. The latter parameters are additionally accessible by the <a href="ObjectProperties"><b>Object Properties</b></a> tool, where plotting and logging mechanisms are available.
The upper text field allows the user to enter a regular expression, which represents the parameter or the set of parameters to observe or manipulate. The label on the right of the text field announces the number of parameters which match the regular expression. Using the drop down box below the text field, the list of all matching parameters can be searched. Choosing one of the entries in the list will move the text into the text field. Using the <b>Add</b> button or pressing <b>return</b> within the text field will visualize control areas for all chosen parameters.
<br><br>
Each control area shows the name of the parameter and its current value. Using the text field, the value can be manipulated and thereby influence the simulation (e.g. the physical properties). By unchecking/checking the check box on the right side of every control area the value of the according parameter will be updated or not updated. For unchecking/checking all currently selected parameters, the <b>Select All</b> button can be used.
<br><br>
Single parameter control areas can be removed from the selection with the own delete button (<b>x</b>). If the user wishes to remove the whole selection, the <b>Remove All</b> button will do so.
<br><br>
A modification of the parameter value is possible by typing a new value into the according text field and pressing the <b>return</b> key. To apply several changes simultaneously the <b>Apply</b> button can be used instead of repeatedly pressing the return key.
<br><br>
A selection of parameters and their values can be saved into a .val-file and loaded from file. The user can thereby restore a previously saved setting and re-conduct experiments or simply restore personal preferred settings. Please note: after loading a file the modification of all parameters needs to be confirmed by pressing the <b>Apply</b>-Button.
<br><br>
Several parameters influence the physics of the simulation, of objects or of motors. Changes in these parameters require a simulation reset to become valid.

<br><div align="right"><a href="#content">Back to Content</a> <br></div>


<h2><a name="ObjectProperties">2.2 Object Properties</a> </h2>
The <b>Object Properties</b> tool enables an on-line observation and manipulation of all available parameters of the different objects, motors and sensors of the simulation. The panel allows the creation of several tabs (using the <b>+/-</b> buttons), where independent sets of parameters can be managed. Most parameters however will be overwritten at a reset with the default settings found at startup of the simulation. To keep a setting even at a simulation reset, the <b>SetInit</b> button has to be pressed to transfer the value to the initial settings.
<br><br>
Besides observing an manipulating the chosen parameters, a plotter and a logger can be used to visualize and store the time development of all currently selected parameters.

<h2><a name="plotter">2.2.1 ValuePlotter</a></h2>

The plotter displays the temporal sequence of variables. This can be used to graphically observe parameters of the system in a much more convenient way compared to the observation of raw data in the text fields of the <b>Object Properties</b> tool. 
<br><br>
To add one or more parameters to the plotter, select the desired parameters in the <b>Object Properties</b> tool first. Then press the <b>Plot</b> button. All parameters currently selected in the <b>Object Properties</b> tool will be added to the plotter. Note that each tab of the <b>Object Properties</b> tool has its own plotter. Therefore it is possible to observe several sets of properties in independent plotters. 
<br><br>
If a parameter is added to the plotter this parameter is associated with a random color. This color can be changed in the <b>Values</b> tab of the plotter configuration.
<br><br>
Multi-value parameters (like Position, Vector3D, Color, etc.) will be automatically decomposed in a number of separate parameters, named after the main parameter name with a type dependent postfix (such as x, y, z). If not all parts of the multi-value should be plotted, then the superfluous parameters can be hidden with the check box in the <b>Values</b> tab of the plotter configuration.
<br><br>
In the <b>Values</b> tab of the plotter configuration the color, name and visibility of each single property can be adjusted for best contrast and readability.
<br><br>
The plotted region can be moved up and down with the mouse, the keyboard (up and down arrows) or the text offset text field. In addition the scaling factor can be changed with the mouse wheel, keys <b>PageUp</b> and <b>PageDown</b> or the appropriate text fields in the <b>General</b> tab of the plotter configuration. With key <b>Home</b> and key <b>Insert</b> the position and the scaling can be reset to the default (offset 0, scaling 1.0). 
<br><br>
In the <b>Offline</b> part of the plotter configuration static off line data can be loaded from a file. The format of the data assumes to use a semicolon as value separator and a # as comment symbol. Static data is only displayed in the plotter, thus no updates of the variables takes place. The static data can be hidden or shown with the <b>h</b> key or the check box in the <b>Offline</b> tab of the plotter configuration. The single static property sequences can be manipulated in the <b>Values</b> tab of the configuration panel as any other dynamic property. Static data can be scaled and moved - vertically and horizontally - independently of the dynamic data. This way the static data can be fitted to the dynamically read data from the simulation to compare the sequences. To move the static data hold the <b>Shift</b> key pressed while moving the data with the mouse or the arrow keys. To scale the static data hold buttons <b>Ctrl+Shift</b> and use the arrow keys. Both functions can also be achieved with direct position and scaling information in the text fields of the <b>Offline</b> part of the configuration panel. 
<br><div align="right"><a href="#content">Back to Content</a> <br></div>

<h2><a name="logger">2.2.2 Logger</a></h2>

Properties of objects (e.g. motor settings, sensor values, ...) can be logged to a file to gain a time series which can be used in other applications - like matlab - to examine the behavior of objects in the simulation. The logger can be activated by pressing the <b>Log</b> button in the <b>Object Properties</b> tool. In the appearing logger dialog the name of the log file and some format parameters can be set. By pressing the <b>Log Selected Variables</b> button logging can be started. After each simulation step all values selected in the object property panel are logged into the log file until the <b>Log Selected Variables</b> button is pressed again. 
<br><br>
The following format parameters can be set:
<br><ul>
  <li><b>Separator String</b>: the string used to separate two values of the same step. A useful parameter might be <b>,</b>, <b> </b> or <b>\\t</b> and depends on the application which will later load the value sequence.
  <li><b>Comment String</b>: the prefix used on comment lines, thus lines that should be ignored another application. This commend string will be used e.g. to add the names of the values to simplify the association of a sequence and the recorded object properties.
</ul>
<br><div align="right"><a href="#content">Back to Content</a> <br></div>

<h2><a name="View">3 View</a></h2>

<h2><a name="CameraManager">3.1 Camera Manager</a> </h2>
The <b>Camera Manager</b> allows to create new cameras which offer views on the simulation and keeps a list of all currently active cameras. On creating a new camera a reference object can be specified to which the camera will be attached. This gives e.g. the possibility to define a view that is equivalent to the normal position of a camera attached to the simulated robot. The drop down box gives a list of all objects that can be used as reference object. If <b>None</b> is chosen, the origin will be the reference point. The <b>Position</b> and <b>Orientation</b> fields can be used to define an offset from the position of the reference object. The <b>Camera Settings</b> fields can be used to modify the camera properties (opening angle, cutoff-positions of the camera range).
<br><br>
The <b>Name</b> field can be used to define an own name for the new camera. This name will be used as window-title and as name in the list of active visualizations. In the lower area of the <b>Camera Manager</b> a list that holds all currently active visualizations is shown, as soon as at least one visualization has been created. By clicking once on an entry, the according window will move to the front. Performing a double click will show/hide the window. The <b>Remove</b> button deletes all currently selected visualizations completely. 
<br><br>
If the <b>Controllable</b>-check box is checked, before creating the view, the new created visualization comes with the same mouse and keyboard control of the camera view, as the main window (see <a href="#Camera">Camera and Keycontrol</a>).

<br><div align="right"><a href="#content">Back to Content</a> <br></div>

<h2><a name="Camera">4 Camera and Keycontrol</a> </h2>

NERD uses a hybrid camera control where the mouse and the keyboards are used to enable a view change. The view can be controlled in a way that is comparable to most computer games by using the keyboard for translational movements and the mouse for rotational movements. Using all mouse buttons, a purely mouse driven camera control is supported as well. The following keys and mouse buttons can be used to control the camera:

<ul>
  <li><b>w / arrow up</b>:	move inside the scene.</li>
  <li><b>s / arrow down</b>:	move/zoom out of the scene.</li>
  <li><b>a / arrow left</b>:	move to the left.</li>
  <li><b>d / arrow right</b>:	move to the right.</li>
  <li><b>q / page down</b>:	move down.</li>
  <li><b>e / page up</b>:	move up.</li>
</ul>

<h6>Left mouse button: </h6>
<ul>
  <li><b>sideways</b>: turn to the left/right.</li>
  <li><b>front/back</b>: turn up/down.</li>
</ul>

<h6>Right mouse button:</h6>
<ul>
  <li><b>sideways</b>: move to the right/left.</li>
  <li><b>front/back</b>: zoom in/out of the scene.</li>
</ul>

<h6>Middle button:</h6>
<ul>
  <li><b>front/back</b>: move up/down.</li>
</ul>

Pressing additionally <b>Shift</b>, the step size of the translational camera control will increase.

<h6>Keycommands to manipulate the visualization</h6>
<ul>
  <li><b>Ctrl+x</b>: Show/hide textures.</li>
  <li><b>Ctrl+a</b>: Show/hide coordinate axes.</li>
  <li><b>Ctrl+t</b>: Show/hide time information.</li>
  <li><b>Ctrl+v</b>: Restore the saved viewpoint (the parameters: <b>/OpenGLVisualization/Main/StartPosition</b> and <b>/OpenGLVisualization/Main/StartOrientation</b> hold the view port information and can be accessed by the <a href="ObjectProperties"><b>Object Properties</b></a> tool).</li>
  <li><b>Ctrl + Shift +v</b>: Save the current viewpoint. This will override the previously stored viewpoint.</li>
  <li><b>+/-</b>: increase/decrease step size for translational changes of the view (only modifies step size for movements, where <b>Shift</b> is pressed). </li>
</ul>

<br><div align="right"><a href="#content">Back to Content</a> <br></div>


</body>
</html>
